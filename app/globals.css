@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Tokens de color (AA+) === */
:root {
  --bg: 0 0% 100%;
  --fg: 222.2 47.4% 11.2%;
  --card: 0 0% 100%;
  --card-fg: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-fg: 215.4 16.3% 35%;
  --border: 214.3 31.8% 91.4%;
  --primary: 221.2 83.2% 53.3%;
  --primary-fg: 210 40% 98%;
  --secondary: 262 83% 58%;
  --secondary-fg: 210 40% 98%;
  --success: 142.1 70% 42%;
  --success-fg: 210 40% 98%;
  --danger: 0 72% 50%;
  --danger-fg: 210 40% 98%;
  --warning: 45 93% 47%;
  --warning-fg: 20 14% 5%;
  --contrast: 15 23 42;
  --glass-bg: 255 255 255;
  --glass-alpha: 0.14;
  --glass-border: 255 255 255;
  --ring: 37 99 235;
}

[data-theme="dark"], .dark {
  --bg: 222.2 84% 5%;
  --fg: 210 40% 98%;
  --card: 222.2 47% 12%;
  --card-fg: 210 40% 98%;
  --muted: 217 33% 17%;
  --muted-fg: 215 20% 75%;
  --border: 217 33% 22%;
  --primary: 217.2 91% 60%;
  --primary-fg: 222.2 47% 12%;
  --secondary: 262 83% 62%;
  --secondary-fg: 222.2 47% 12%;
  --success: 142.1 70% 48%;
  --success-fg: 210 40% 98%;
  --danger: 0 72% 55%;
  --danger-fg: 210 40% 98%;
  --warning: 48 96% 55%;
  --warning-fg: 222 47% 12%;
  --contrast: 248 250 252;
  --glass-bg: 18 22 28;
  --glass-alpha: 0.28;
  --glass-border: 255 255 255;
  --ring: 60 131 246;
}

html { font-size: 16px; }
body {
  background: hsl(var(--bg));
  color: hsl(var(--fg));
  font-family: var(--font-sans, ui-sans-serif, system-ui, -apple-system, "Inter", "Segoe UI", Roboto);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Accesibilidad y estados de foco */
*:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

/* Tarjetas y helpers */
.card { @apply rounded-xl bg-card text-card-foreground shadow-card border border-border; }
.card-hover:hover { @apply shadow-card-hover; }

/* Botón base por si se usa sin componente */
.btn-base {
  @apply inline-flex items-center justify-center gap-2 rounded-lg font-semibold transition ease-soft;
  @apply h-11 px-4; /* 44px de alto */
}

/* Emojis un poco más grandes y consistentes */
.emoji { font-size: 1.25em; line-height: 1; vertical-align: -2px; }
/* ====== Helpers ====== */
.text-contrast { color: rgb(var(--contrast)); }
.text-contrast\/80 { color: rgb(var(--contrast) / 0.8); }
.text-contrast\/70 { color: rgb(var(--contrast) / 0.7); }

/* ====== Emojis más grandes y nítidos ====== */
.emoji {
  font-size: 1.4em;          /* +40% */
  line-height: 1;
  transform: translateY(1px);
  -webkit-text-size-adjust: 100%;
}

/* ====== Estilo “Cristal” reutilizable ====== */
.glass-card {
  background: color-mix(in oklab, rgb(var(--glass-bg)) calc(var(--glass-alpha) * 100%), transparent);
  @apply backdrop-blur-md rounded-2xl border border-white/15 shadow-glass p-4;
}

/* burbuja: borde suave y gradiente sutil */
.bubble {
  position: relative;
  overflow: hidden;
  @apply p-4;
}
.bubble::before{
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(1200px 200px at -10% -20%, rgba(255,255,255,0.18), transparent 45%),
              linear-gradient(180deg, rgba(255,255,255,0.08), transparent 60%);
  pointer-events:none;
}

/* ====== Botón cristal ====== */
.glass-btn {
  @apply inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-white/20 backdrop-blur-sm;
  background: color-mix(in oklab, rgb(var(--glass-bg)) 22%, transparent);
  transition: transform .06s ease, background .2s ease, border-color .2s ease;
}
.glass-btn:hover { transform: translateY(-1px); background: color-mix(in oklab, rgb(var(--glass-bg)) 30%, transparent); }
.glass-btn:active { transform: translateY(0); }
.glass-btn:focus-visible { outline: none; box-shadow: 0 0 0 2px rgba(var(--ring), .45); }

/* variantes rápidas */
.glass-btn.primary {
  @apply border-transparent;
  background: linear-gradient(180deg, rgba(59,130,246,.22), rgba(59,130,246,.12));
}
.glass-btn.danger {
  background: linear-gradient(180deg, rgba(244,63,94,.22), rgba(244,63,94,.12));
}

/* ====== Inputs / campos ====== */
.input,
input[type="text"],
input[type="search"],
textarea,
select {
  @apply w-full px-3 py-2 rounded-xl border border-white/15 bg-transparent backdrop-blur-sm;
  color: rgb(var(--contrast));
}
.input::placeholder { color: rgb(var(--contrast) / .55); }
.input:focus,
input:focus,
textarea:focus,
select:focus {
  outline: none; box-shadow: 0 0 0 2px rgba(var(--ring), .45);
}

/* Input “cristal” simple */
.glass-input{
  @apply w-full rounded-xl border border-white/15;
  background: color-mix(in oklab, rgb(var(--glass-bg)) 22%, transparent);
  padding: 10px 12px;
  color: rgb(var(--contrast));
  outline: none;
  backdrop-filter: blur(12px) saturate(140%);
}
.glass-input:focus{ box-shadow: 0 0 0 3px rgba(var(--ring), .45); }

/* ====== Badges ====== */
.badge{
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-lg text-sm border border-white/15;
  background: color-mix(in oklab, rgb(var(--glass-bg)) 30%, transparent);
}
.badge-active   { background: rgba(34,197,94,.18); }
.badge-inactive { background: rgba(250,204,21,.18); }

/* ====== Tablas dentro de glass ====== */
table { @apply w-full; }
th { @apply text-sm font-semibold text-contrast/80 py-2; }
td { @apply py-2; }

/* ====== Navbar / layout ====== */
.navbar {
  @apply h-14 px-4 flex items-center justify-between sticky top-0 z-40 border-b border-white/10 backdrop-blur-md;
  background: color-mix(in oklab, rgb(var(--glass-bg)) 18%, transparent);
}

/* ====== Utilidades de backdrop personalizadas ====== */
@layer utilities {
  .backdrop-blur { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
  .backdrop-blur-sm { backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
  .backdrop-blur-md { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
  .backdrop-blur-\[1px\] { backdrop-filter: blur(1px); -webkit-backdrop-filter: blur(1px); }
  .backdrop-blur-\[2px\] { backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); }
}

/* ====== Sidebar / pequeñas utilidades ====== */
.sidebar{
  position: sticky; top: 12px;
  height: calc(100dvh - 24px);
  padding: 12px;
}
.sidebar a{
  display:flex; align-items:center; gap:10px;
  padding: 10px 12px;
  border-radius: 12px;
  border:1px solid rgba(var(--glass-border), .15);
  background: color-mix(in oklab, rgb(var(--glass-bg)) 22%, transparent);
  margin-bottom: 8px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.sidebar a:hover{ transform: translateY(-1px); box-shadow: 0 6px 20px rgba(0,0,0,.12); }

.hover-glow:hover{ box-shadow: 0 6px 20px rgba(0,0,0,.12); }
